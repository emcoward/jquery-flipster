/*! jquery.flipster, built 2014-10-27 */
!function(a,b,c){"use strict";function d(d,e){function g(){A=0}function h(){q.css("height",r.height()),p.element.css("height","auto"),"carousel"===p.options.style&&q.width(r.width())}function i(){if(p.options.enableNav&&r.length>1){var b=[],c=[],d=[];r.each(function(){var e=a(this).data("flip-category"),f=a(this).attr("id"),g=a(this).attr("title");if("undefined"!=typeof e&&a.inArray(e,b)<0&&(b.push(e),d[e]='<li class="flip-nav-category"><a href="#" class="flip-nav-category-link" data-flip-category="'+e+'">'+e+'</a>\n<ul class="flip-nav-items">\n'),a.inArray(f,c)<0){c.push(f);var h='<a href="#'+f+'" class="flip-nav-item-link"><span class="flip-nav-item-link-child">'+g+"</span></a></li>\n";"undefined"!=typeof e?d[e]=d[e]+'<li class="flip-nav-item">'+h:d[f]='<li class="flip-nav-item no-category">'+h}}),u='<ul class="flipster-nav">\n';for(var e in b)d[b[e]]=d[b[e]]+"</ul>\n</li>\n";for(var f in d)u+=d[f];u+="</ul>",s="after"!=p.options.navPosition.toLowerCase()?a(u).prependTo(p.element):a(u).appendTo(p.element),t=s.find("a").on("click",function(b){var c;c=a(this).hasClass("flip-nav-category-link")?r.filter("[data-flip-category='"+a(this).data("flip-category")+"']"):a(this.hash),c.length&&(m(c),b.preventDefault())})}}function j(){if(p.options.enableNav&&r.length>1){var b=a(r[y]);s.find(".flip-nav-current").removeClass("flip-nav-current"),t.filter("[href='#"+b.attr("id")+"']").addClass("flip-nav-current"),t.filter("[data-flip-category='"+b.data("flip-category")+"']").parent().addClass("flip-nav-current")}}function k(){p.options.enableNavButtons&&r.length>1&&(p.element.find(".flipto-prev, .flipto-next").remove(),p.element.append("<a href='#' class='flipto-prev'>Previous</a> <a href='#' class='flipto-next'>Next</a>"),p.element.children(".flipto-prev").on("click",function(a){m("left"),a.preventDefault()}),p.element.children(".flipto-next").on("click",function(a){m("right"),a.preventDefault()}))}function l(){var b=a(r[y]).addClass("flip-current");if(r.removeClass("flip-prev flip-next flip-current flip-past flip-future no-transition"),"carousel"===p.options.style){r.addClass("flip-hidden");var c=a(r[y+1]),d=a(r[y+2]),e=a(r[y-1]),f=a(r[y-2]);0===y?(e=r.last(),f=e.prev()):1===y?f=r.last():y===r.length-2?d=r.first():y===r.length-1&&(c=r.first(),d=a(r[1])),d.removeClass("flip-hidden").addClass("flip-future"),f.removeClass("flip-hidden").addClass("flip-past"),c.removeClass("flip-hidden").addClass("flip-next"),e.removeClass("flip-hidden").addClass("flip-prev")}else{for(var g=b.outerWidth()/2,i=0,k=q.width(),l=b.outerWidth(),m=r.index(b)*l/2+g/2,n=0;n<r.length;n++){var o=a(r[n]),s=o.outerWidth();y>n?o.addClass("flip-past").css({"z-index":n,left:n*s/2+"px"}):n>y&&o.addClass("flip-future").css({"z-index":r.length-n,left:n*s/2+g+"px"})}b.css({"z-index":r.length+1,left:m+"px"}),i=m+l/2-k/2;var t=-1*i+"px";if(w){var u=a(".flip-past"),v=a(".flip-future");for(a(".flip-current").css("zoom","1.0"),n=0;n<u.length;n++)a(u[n]).css("zoom",100-5*(u.length-n)+"%");for(n=0;n<v.length;n++)a(v[n]).css("zoom",100-5*(n+1)+"%");q.animate({left:t},333)}else q.css("left",t)}b.addClass("flip-current").removeClass("flip-prev flip-next flip-past flip-future flip-hidden"),h(),j(),p.options.onItemSwitch.call(p)}function m(a){r.length>1&&("left"===a?y>0?y--:y=r.length-1:"right"===a?y<r.length-1?y++:y=0:y="number"==typeof a?a:r.index(a),l())}function n(){p.element.addClass("flipster flipster-active flipster-"+p.options.style).css("visiblity","hidden"),q=p.element.find(p.options.itemContainer).addClass("flip-items"),r=q.find(p.options.itemSelector).addClass("flip-item").wrapInner("<div class='flip-content' />");var d=!1,e=c.createElement("b");e.innerHTML="<!--[if IE 9]><i></i><![endif]-->";var f=1===e.getElementsByTagName("i").length;(d||f)&&(w=!0,q.addClass("compatibility")),i(),k(),p.options.start&&r.length>1&&(y="center"===p.options.start?!r.length%2?r.length/2+1:Math.floor(r.length/2):p.options.start),h(),p.element.hide().css("visiblity","visible").fadeIn(400,function(){l()}),x.resize(function(){h(),l()}),r.on("click",function(b){a(this).hasClass("flip-current")||b.preventDefault(),m(r.index(this))}),p.options.enableKeyboard&&r.length>1&&(x.on("keydown.flipster",function(a){if(A++,A%7===0||1===A){var b=a.which;37===b?(a.preventDefault(),m("left")):39===b&&(a.preventDefault(),m("right"))}}),x.on("keyup.flipster",function(){A=0})),p.options.enableMousewheel&&r.length>1&&p.element.on("mousewheel.flipster",function(a){v=b.setTimeout(g,500),A++,(A%4===0||1===A)&&(b.clearTimeout(v),m(a.originalEvent.wheelDelta/120>0?"left":"right"),a.preventDefault())}),p.options.enableTouch&&r.length>1&&(p.element.on("touchstart.flipster",function(a){z=a.originalEvent.targetTouches[0].screenX}),p.element.on("touchmove.flipster",function(a){a.preventDefault();var b=a.originalEvent.targetTouches[0].screenX,c=b-z;c>r[0].clientWidth/1.75?(m("left"),z=b):c<-1*(r[0].clientWidth/1.75)&&(m("right"),z=b)}),p.element.on("touchend.flipster",function(){z=0}))}function o(){function c(){var a=x.width();a>=p.options.breakpoint?p.element.hasClass("flipster-active")||(p.element.addClass("flipster-active").removeClass("flipster-inactive"),n()):p.element.hasClass("flipster-inactive")||(p.element.addClass("flipster-inactive").removeClass("flipster-active"),p.destroy())}c(),a(b).on("debouncedresize",function(){c()})}var p=this;p.element=a(d),p.options=a.extend({},f,e);var q,r,s,t,u,v,w,x=a(b),y=0,z=0,A=0;o()}var e,f;e="flipster",f={itemContainer:"ul",itemSelector:"li",style:"coverflow",start:"center",enableKeyboard:!0,enableMousewheel:!0,enableTouch:!0,enableNav:!1,navPosition:"before",enableNavButtons:!1,onItemSwitch:function(){},breakpoint:768,breakpointClass:"mobile"},d.prototype.destroy=function(){var c=a(b);a(this.options.itemSelector).each(function(){a(this).find(".flip-content > *").unwrap()}),c.off("keydown.flipster"),c.off("keyup.flipster"),this.element.removeClass("flipster flipster-active flipster-"+this.options.style+" no-rotate").off("click.flipster mousewheel.flipster touchstart.flipster touchmove.flipster touchend.flipster").find(".flipster-nav, .flipto-prev, .flipto-next").remove(),this.element.find(this.options.itemContainer).removeAttr("style").removeClass("flip-items compatibility"),a(this.options.itemSelector).off("click").removeAttr("style").removeClass("flip-prev flip-next flip-item flip-current flip-past flip-hidden flip-future no-transition"),this.element.addClass("flipster").removeAttr("style"),this.element.find(".flipter-nav").remove()},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);